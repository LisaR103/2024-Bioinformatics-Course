<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Module2.3_Databases</title>
  <style>
    html {
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      overflow-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 12px;
      }
      h1 {
        font-size: 1.8em;
      }
    }
    @media print {
      html {
        background-color: white;
      }
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    svg {
      height: auto;
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, Consolas, 'Lucida Console', monospace;
      font-size: 85%;
      margin: 0;
      hyphens: manual;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
      overflow-wrap: normal;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      background-color: #1a1a1a;
      border: none;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC ul {
      padding-left: 1.3em;
    }
    #TOC > ul {
      padding-left: 0;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
</head>
<body>
<h1 id="relational-databases">Relational Databases</h1>
<h2 id="some-important-terms">Some important terms</h2>
<p>Datbases are collectinos of two-dimensional <em>tables</em>, also
called <em>entities</em> or <em>classes</em></p>
<p>They contain:</p>
<ul>
<li>Columns, also called <em>attributes</em></li>
<li>Rows, also called <em>tuples</em>, <em>records</em> or
<em>instances</em> (no relation to tuple in Python)</li>
</ul>
<p>To interact with a database we use a Relational Database Management
System (RDBMS). This contains: - a collection of objects or relations -
set of operations to act on the relations - data integrity for accuracy
and consistency</p>
<p>Ideally a database conforms to Codd’s 12 rules. However, this is in
practise almost impossible</p>
<p>https://en.wikipedia.org/wiki/Codd%27s_12_rules</p>
<h2 id="problems-that-databases-have-to-solve">Problems that Databases
have to solve</h2>
<ul>
<li>Redundancy: to have multiple entries containing the same information
in our data collection</li>
<li>Inconsistency: informations referring to a specific topic
contradictseach other</li>
<li>Merging Data</li>
<li>Expanding the Collection</li>
<li>Multiple Users: e.g. generating new entries in a data collection
simultaneously</li>
<li>Lost Update: Losing data when only the last changes are saved</li>
<li>Loss of data: If data is lost, the correlations in the data system
often can’t be reproduced</li>
<li>Breach of Integrity: A new entry has to fulfill all criteria defined
by the database</li>
<li>Safety concerns: only granting access where necessary</li>
</ul>
<h2 id="tables">Tables</h2>
<p>Tables, somtimes also called classes, contain:</p>
<ul>
<li>Columns, also called <em>attributes</em>
<ul>
<li>Describe the dataset</li>
<li>Can only contain <em>one value per row</em></li>
</ul></li>
<li>Rows
<ul>
<li>Each row corresponds to one dataset of this table</li>
<li>Each row has to be uniquely identified fom other rows</li>
</ul></li>
</ul>
<p>Tables can be described through Class diagrams - Name of table is
writen above a rectangular box - the column names are written inside the
box</p>
<h3 id="primary-keys-and-foreign-keys">Primary Keys and Foreign
Keys</h3>
<p>Each row in a table needs to be uniquely identified. This is done
through one or several <strong>primary key (PK)</strong> - column or set
of columns uniquely identifying each row - if the primary key is formed
by several columns it is a <em>composite</em> primary key - cannot
contain empty values or duplicates - value for the primary key should
ideally never change and is best auto generated</p>
<p>A <strong>foreign key (FK)</strong> is a column or combination of
columns in a table that refers to the primary key of another table - A
foreign key must match an existing primary key value or be empty - A
foreign key can be (part of) the primary key, but then it can’t be empty
- The columnd containing the foreign key must be formatted exactly the
same as the primary key it points to (e.g. containing strings, numbers
etc.)</p>
<h2 id="visualizing-databases">Visualizing Databases</h2>
<p>Databases can be easily visualized on the following website:</p>
<p>https://erdplus.com/standalone</p>
<h3 id="er-diagram">ER diagram</h3>
<ul>
<li>Tabels are Rectangles</li>
<li>Columns are Circles
<ul>
<li>if the columns are underlined, they are the Primary Key(s)</li>
</ul></li>
<li>Diamonds are the relations between tables</li>
<li>Connection line with one line and a bar: one-end relationship</li>
<li>Connection line with three lines: many-end relationship</li>
</ul>
<h3 id="relational-scheme">Relational Scheme</h3>
<ul>
<li>Class diagramm representing the table
<ul>
<li>Name of table is writen above a rectangular box</li>
<li>inside the box are written the column names</li>
<li>Primary Key(s) in bold and underlined</li>
</ul></li>
<li>Foreign keys are linked to their Primary Key location in their “home
table” through arrows. This is usually a one-to-many relationship</li>
<li>In a relational scheme we see a hierachy: the highest point in the
database hierachy are tables that contain only primary keys and no
foreign keys. We then go down to tables only containing foreign keys
pointing to the highest level and so on down</li>
</ul>
<h2 id="designing-a-database">Designing a Database</h2>
<p>There are four steps to designing a database: 1. Gather information
2. Design the tables 3. Modell the relations between the tables 4.
Refine the database</p>
<h3 id="gather-information">Gather information</h3>
<p>The most important step is to gather information about the
requirements and objectives of the database!! Possible questions to ask:
- What do we need to save? - What relations are of interest? - What kind
of diagrams, tables are needed? - Are there any external applications
that need to be included? - Is there example data?</p>
<h3 id="design-the-tables">Design the tables</h3>
<p>Gather the needed data into seperate tables - What topics are there?
(= how many tables) - Which columns do I need in each table? - After
thinking about the needed columns pick a primary key - Only if no
column(s) fulfils the criteria of a primary key add an extra column (or
if the composite primary key would consist of too many columns)</p>
<h3 id="modell-the-relations-between-the-tables">Modell the Relations
between the tables</h3>
<p>There are three (important for us) types of relations that exist
between tables: - one-to-many - many-to-many - one-to-one</p>
<h4 id="one-to-many">one-to-many</h4>
<blockquote>
<p>Example: A teacher may teach 0 or more classes, but a class (one
lesson at one time) is only taught by one teacher.</p>
</blockquote>
<p>one-to-many relationship <em>cannot</em> be represented in a single
table: - if we have a table called <code>teacher</code>, we would need
several columns for the classes
(<code>class1</code>,<code>class2</code>, etc.) - we don’t know how many
columns we might need at max - we have a lot of emtpy fields -&gt; not a
good solution - if we have a table called <code>class</code> the
information about <code>teacher</code> (name, room, email etc.) is
repeated many times - there is a lot of redundant data -&gt; redundancy
has to be minimized as much as possible</p>
<p>Solution: two tables! - a table <code>teacher</code> with
<code>teacherID</code> as primary key (parent table/one-end) - a table
<code>classes</code> with <code>classID</code> as primary key
referencing <code>teacherID</code> as foreign key (child
table/many-end)</p>
<p>The primary key of the parent table (where it is unique = one)
becomes the foreign key in the child table (where it can occur multiple
times = many)</p>
<h3 id="refine-the-database">Refine the database</h3>
<h1 id="exercises">Exercises</h1>
<h2 id="exercise-1---design-tables">Exercise 1 - Design Tables</h2>
<h3 id="a-student-at-a-university">A student at a university</h3>
<ul>
<li>Name</li>
<li>First Name</li>
<li>Date of Birth</li>
<li>Road</li>
<li>Number</li>
<li>Postal Code</li>
<li>City</li>
<li>Email Adresse</li>
<li>Faculty</li>
<li>Degree</li>
<li>Thesis advisor</li>
<li>Grade average</li>
</ul>
<h3 id="a-faculty-member-at-a-university">A faculty member at a
university</h3>
<ul>
<li>Name</li>
<li>First Name</li>
<li>Title</li>
<li>Room</li>
<li>Date of Birth</li>
<li>Road</li>
<li>Number</li>
<li>Postal Code</li>
<li>City</li>
<li>Email Adresse</li>
<li>Telefon Work</li>
<li>Telefon Private</li>
<li>Faculty</li>
<li>Chair/Working group</li>
<li>Vacation days left</li>
</ul>
<h3 id="a-work-of-art-displayed-in-a-gallery-or-museum">A work of art
displayed in a gallery or museum</h3>
<ul>
<li>Title</li>
<li>Description</li>
<li>Artist</li>
<li>Genre</li>
<li>Date of Creation</li>
<li>Place of Creation</li>
<li>Value</li>
<li>Insurance value</li>
<li>Room it is placed</li>
</ul>
<h3 id="an-automobile-registered-with-the-motor-vehicle-department">An
automobile registered with the Motor Vehicle Department</h3>
<ul>
<li>Manufacturer</li>
<li>Modell</li>
<li>Color</li>
<li>Registration Number</li>
<li>License Plate</li>
<li>Date of first registration</li>
<li>Date of last registration</li>
<li>Last Name Owner</li>
<li>First Name Owner</li>
<li>Adress Owner</li>
<li>Type of engine</li>
</ul>
<h3 id="a-pizza-that-is-on-the-menu-in-a-restaurant">A pizza that is on
the menu in a restaurant</h3>
<ul>
<li>Name</li>
<li>Size</li>
<li>Price</li>
<li>Sauce</li>
<li>Topping1</li>
<li>Topping2</li>
</ul>
<h3 id="household-furniture">Household furniture</h3>
<ul>
<li>Name</li>
<li>Main Function</li>
<li>Room</li>
<li>Weight</li>
<li>Height</li>
<li>Depth</li>
<li>Width</li>
<li>Color</li>
<li>Material</li>
<li>Age</li>
<li>Designer</li>
</ul>
<h2 id="exercise-2---table-design">Exercise 2 - Table design</h2>
<p>Design tables for the following topics: - Cell cultures - Laboratory
animals - Isolation experiments - Western Blot Results - Protein
concentration measurements Don’t forget to include a primary key for
each table</p>
<h3 id="cell-culture">Cell culture</h3>
<ul>
<li><strong>Cell_ID</strong></li>
<li>Cellline</li>
<li>Subclone</li>
<li>Medium</li>
<li>Flask_type</li>
<li>Growth_type (Adherent/Semi-adherent/Suspension)</li>
<li>Split_ratio</li>
<li>Dissociation_method</li>
<li>Split_Frequency</li>
<li>MediumChange_Frequency</li>
<li>Max_Passages</li>
<li>Contamination_Status</li>
<li>No_frozen_vials</li>
<li>Biosafety_Level</li>
</ul>
<h3 id="laboratory-animals">Laboratory animals</h3>
<ul>
<li><strong>AnimalID</strong></li>
<li>Organism</li>
<li>Sex</li>
<li>Date_Birth</li>
<li>Age (not a good idea, because we don’t calculate in our
table!!)</li>
<li>ExperimentID (FK)</li>
<li>Health_status</li>
<li>Biosafety_Level</li>
<li>Cage_number</li>
<li>Marking</li>
<li>Handler</li>
<li>PI</li>
<li>Veterinarian</li>
</ul>
<h3 id="isolation-experiments">Isolation Experiments</h3>
<ul>
<li><strong>SampleID</strong></li>
<li>ExperimentID (FK)</li>
<li>OriginMaterial (Cells/tissue) (FK)</li>
<li>TreatmentMaterial (FK)</li>
<li>IsolationDate</li>
<li>Experimentor</li>
<li>IsolationMethod</li>
<li>QualityOK</li>
</ul>
<h3 id="western-blot-result">Western Blot Result</h3>
<ul>
<li><strong>BandID</strong></li>
<li>Protein</li>
<li>ProteinWeight.kDa</li>
<li>RawDensity</li>
<li>DensitometryMethod</li>
<li>PrimAntibody (FK)</li>
<li>SecAntibody (FK)</li>
<li>OriginMaterial (FK)</li>
<li>TreatmentMaterial (FK)</li>
<li>ExperimentID (FK)</li>
<li>DevelopDate</li>
<li>DevelopMethod</li>
</ul>
<h3 id="protein-concentration-measurements">Protein Concentration
Measurements</h3>
<ul>
<li><strong>SampleID</strong> (FK)</li>
<li>Concentration</li>
<li>MeasurementDate</li>
<li>MeasurementMethod</li>
<li>Experimentor (FK)</li>
<li>SampleDilution</li>
<li>RawValue</li>
</ul>
<h2 id="exercise-3---one-to-many">Exercise 3 - One-to-Many</h2>
<p>Create a relational scheme for each of the relations described below:
1. Organisms and Kingdoms of Life 2. Protein sequences and known Protein
structures 3. Genes and protein sequences 4. Chromosomes and Genes</p>
<p>ER-diagram: <img
src="https://github.com/LisaR103/2024-Bioinformatics-Course/blob/main/Module2_Summaries/Module2_Exercises/Module2.3_Exercise3_ERdiagram_V1.png"
alt="One-to-Many" /></p>
<h1 id="end-of-script">End of Script</h1>
</body>
</html>
